
using System.Text.Json;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.OpenApi;

var builder = WebApplication.CreateBuilder(args);

builder.Services.Configure<Microsoft.AspNetCore.Http.Json.JsonOptions>(options =>
{
    options.SerializerOptions.PropertyNameCaseInsensitive = false;
    options.SerializerOptions.PropertyNamingPolicy = null;
    options.SerializerOptions.WriteIndented = true;

});
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();
builder.Services.AddRazorPages();
builder.Services.AddSingleton<HandleBlockService>();
builder.Services.AddSingleton<IDateTimeProvider, DateTimeProvider>();
builder.Services.AddSingleton<Chain>();
//builder.Services.AddHostedService<HighPerformanceServer>();
var app = builder.Build();

var chain = app.Services.GetRequiredService<Chain>();
//chain.AddBlock("First block");

app.MapGet("/api/chain", () => chain.TheChain);
app.MapPost("/api/chain", ([FromBody] string message) => {
    chain.AddBlock(message);
    return chain.TheChain;
});
chain.AddBlock("Fictional Government Request for Proposals (RFP)\r\n\r\nProject Title: Enhanced Unicorn Monitoring System (EUMS)\r\n\r\nIssuing Agency: Ministry of Mythical Creatures\r\n\r\nRFP Number: MOC-RFP-2023-001\r\n\r\nSubmission Deadline: March 15, 2023, at 2:00 PM (Local Time)\r\n\r\n1. Project Overview:\r\n\r\nThe Ministry of Mythical Creatures is seeking proposals from qualified vendors to develop an Enhanced Unicorn Monitoring System (EUMS). The EUMS is designed to enhance the monitoring and protection of the endangered unicorn population in the Enchanted Forest. This project aims to combine cutting-edge technology and mythical creature conservation efforts.\r\n\r\n2. Scope of Work:\r\n\r\nThe selected vendor shall provide the following services and deliverables:\r\n\r\na. Design and development of a state-of-the-art unicorn tracking system.\r\n\r\nb. Integration of magical sensors for tracking unicorn movements and behavior.\r\n\r\nc. Creation of a unicorn health assessment module, including a unicorn-vet interface.\r\n\r\nd. Implementation of an enchantment-powered data encryption system for secure unicorn data storage.\r\n\r\ne. Development of a mobile application for forest rangers to report unicorn sightings and incidents.\r\n\r\nf. Training and capacity-building for forest rangers and wildlife experts.\r\n\r\n3. Proposal Requirements:\r\n\r\nInterested vendors must submit a comprehensive proposal including:\r\n\r\na. Technical specifications and approach to the project.\r\n\r\nb. Project timeline and milestones.\r\n\r\nc. Detailed cost estimates and budget breakdown.\r\n\r\nd. Description of the vendor's experience in magical creature conservation projects.\r\n\r\ne. References from previous enchanted forest-related projects.\r\n\r\n4. Evaluation Criteria:\r\n\r\nProposals will be evaluated based on the following criteria:\r\n\r\na. Technical expertise and approach (40%)\r\n\r\nb. Cost-effectiveness (30%)\r\n\r\nc. Relevant experience and references (20%)\r\n\r\nd. Project timeline and milestones (10%)\r\n\r\n5. Terms and Conditions:\r\n\r\na. The contract will be awarded to the vendor whose proposal offers the best value to the Ministry of Mythical Creatures.\r\n\r\nb. The selected vendor will be required to sign a confidentiality agreement to protect any enchanted forest secrets discovered during the project.\r\n\r\nc. The Ministry reserves the right to reject any or all proposals and to waive any informalities or irregularities in the proposals received.\r\n\r\n6. Contact Information:\r\n\r\nFor inquiries and submission of proposals, please contact:\r\n\r\nMagical Creatures Procurement Office\r\nEnchanted Forest, Realm of Mythica\r\n\r\nEmail: procurement@mythicalcreatures.gov\r\nPhone: 1-800-MAGICAL\r\n\r\n7. Important Dates:\r\n\r\nRelease of RFP: February 15, 2023\r\nPre-proposal Conference: February 28, 2023, at 10:00 AM\r\nProposal Submission Deadline: March 15, 2023, at 2:00 PM\r\nVendor Selection: April 5, 2023\r\nProject Commencement: May 1, 2023");
chain.AddBlock("EnchantedTech Solutions\r\n\r\nBidder: EnchantedTech Solutions\r\n\r\nTotal Bid Amount: $2,500,000\r\n\r\nTechnical Approach:\r\n\r\nEnchantedTech Solutions is thrilled to submit our proposal for the Enhanced Unicorn Monitoring System (EUMS) project. Our team of enchanted creatures and skilled wizards is dedicated to ensuring the conservation and protection of unicorns in the Enchanted Forest.\r\n\r\nKey Features:\r\n\r\nState-of-the-art unicorn tracking system using enchanted crystal sensors.\r\nComprehensive unicorn health assessment module with real-time alerts.\r\nMobile application with an intuitive user interface for forest rangers.\r\nEncryption system powered by ancient enchantments to safeguard unicorn data.\r\nExperience:\r\n\r\nEnchantedTech Solutions has a rich history of successfully implementing magical creature conservation projects. We have previously worked with the Ministry of Mythical Creatures on projects related to dragon nesting sites and phoenix habitat preservation.\r\n\r\nCost Breakdown:\r\n\r\nTechnology and Development: $1,500,000\r\nTraining and Capacity-building: $500,000\r\nProject Management and Oversight: $300,000\r\nEnchantment-powered Data Encryption: $200,000\r\nWe are confident that our proposal offers the best value to protect the unicorn population in the Enchanted Forest.");
chain.AddBlock("MystiGuardian Solutions\r\n\r\nBidder: MystiGuardian Solutions\r\n\r\nTotal Bid Amount: $3,200,000\r\n\r\nTechnical Approach:\r\n\r\nMystiGuardian Solutions is honored to present our proposal for the Enhanced Unicorn Monitoring System (EUMS) project. With our deep understanding of mythical creature protection, we are committed to advancing the cause of unicorn conservation.\r\n\r\nKey Features:\r\n\r\nCutting-edge unicorn tracking system with ethereal GPS technology.\r\nMagical sensors infused with protective enchantments for unicorn well-being.\r\nUser-friendly mobile application for forest rangers to report unicorn sightings.\r\nComprehensive unicorn health assessment and intervention module.\r\nExperience:\r\n\r\nMystiGuardian Solutions boasts an impressive track record in the field of mystical creature conservation. Our team has successfully safeguarded the habitats of mermaids, griffins, and centaurs in various enchanted realms.\r\n\r\nCost Breakdown:\r\n\r\nTechnological Advancements: $2,000,000\r\nTraining and Skill-building: $600,000\r\nProject Management and Oversight: $400,000\r\nSecure Data Storage and Encryption: $200,000\r\nOur proposal reflects our commitment to the welfare of unicorns in the Enchanted Forest. We look forward to partnering with the Ministry of Mythical Creatures on this vital project.");
chain.AddBlock("Contract Number: MCC-2023-001\r\n\r\nContract Date: April 10, 2023\r\n\r\nParties:\r\n\r\nThe Ministry of Mythical Creatures\r\nAddress: Enchanted Forest, Realm of Mythica\r\nRepresented by: [Minister's Name]\r\nHereinafter referred to as The Ministry\r\n\r\nMystiGuardian Solutions\r\nAddress: Enchantment Way, Mystic Realm\r\nRepresented by: [CEO's Name]\r\nHereinafter referred to as MystiGuardian\r\n\r\nProject Title: Enhanced Unicorn Monitoring System (EUMS)\r\n\r\nProject Overview:\r\n\r\nThis contract (Contract) outlines the terms and conditions for the development, implementation, and maintenance of the Enhanced Unicorn Monitoring System (EUMS) by MystiGuardian Solutions for the Ministry of Mythical Creatures.\r\n\r\nScope of Work:\r\n\r\nMystiGuardian shall design, develop, and deploy the EUMS according to the specifications outlined in the Request for Proposals (RFP) MOC-RFP-2023-001.\r\n\r\nMystiGuardian shall provide training and capacity-building sessions for forest rangers and wildlife experts in the operation and maintenance of the EUMS.\r\n\r\nMystiGuardian shall ensure the security and confidentiality of all unicorn-related data collected and stored as part of the EUMS.\r\n\r\nContract Duration:\r\n\r\nThe contract shall be effective from May 1, 2023, and will continue for a period of three (3) years, with the option for renewal upon mutual agreement.\r\n\r\nPayment Terms:\r\n\r\nThe Ministry shall make payments to MystiGuardian as follows:\r\n\r\nAn initial payment of $1,000,000 upon the signing of this Contract.\r\n\r\nProgress payments of $400,000 per quarter, subject to the completion of specified milestones.\r\n\r\nFinal payment of $400,000 upon successful completion and acceptance of the EUMS project.\r\n\r\nProject Acceptance:\r\n\r\nThe Ministry shall conduct a final acceptance test of the EUMS within 30 days of project completion. Upon successful acceptance, the project will be considered complete, and the final payment will be released.\r\n\r\nConfidentiality:\r\n\r\nBoth parties shall maintain the confidentiality of all project-related information and shall not disclose any enchanted forest secrets discovered during the project.\r\n\r\nTermination:\r\n\r\nEither party may terminate this Contract with written notice if the other party breaches any material term or condition and fails to remedy the breach within 30 days of receiving written notice.\r\n\r\nDispute Resolution:\r\n\r\nAny disputes arising under this Contract shall be resolved through arbitration in accordance with the laws of the Realm of Mythica.\r\n\r\nGoverning Law:\r\n\r\nThis Contract shall be governed by and construed in accordance with the laws of the Realm of Mythica.\r\n\r\nEntire Agreement:\r\n\r\nThis Contract constitutes the entire agreement between the parties and supersedes all prior oral or written agreements, understandings, or representations.\r\n\r\nSignatures:\r\n\r\nBy signing below, both parties acknowledge and agree to the terms and conditions outlined in this Contract.\r\n\r\nMinistry of Mythical Creatures\r\n[Minister's Signature]\r\n[Minister's Name]\r\n[Date]\r\n\r\nMystiGuardian Solutions\r\n[CEO's Signature]\r\n[CEO's Name]\r\n[Date]");
app.UseStaticFiles();
app.MapRazorPages();
app.UseSwagger();
app.UseSwaggerUI();
app.Run();